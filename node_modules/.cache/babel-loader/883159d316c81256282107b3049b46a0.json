{"remainingRequest":"/home/anir/Desktop/practising_projects/fireblog/node_modules/babel-loader/lib/index.js!/home/anir/Desktop/practising_projects/fireblog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/anir/Desktop/practising_projects/fireblog/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/anir/Desktop/practising_projects/fireblog/src/views/CreatePost.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/anir/Desktop/practising_projects/fireblog/src/views/CreatePost.vue","mtime":1645250012929},{"path":"/home/anir/Desktop/practising_projects/fireblog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/anir/Desktop/practising_projects/fireblog/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/anir/Desktop/practising_projects/fireblog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/anir/Desktop/practising_projects/fireblog/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2FuaXIvRGVza3RvcC9wcmFjdGlzaW5nX3Byb2plY3RzL2ZpcmVibG9nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEJsb2dDb3ZlclByZXZpZXcgZnJvbSAiLi4vY29tcG9uZW50cy9CbG9nQ292ZXJQcmV2aWV3LnZ1ZSI7CmltcG9ydCBMb2FkaW5nIGZyb20gIi4uL2NvbXBvbmVudHMvTG9hZGluZy52dWUiOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAiZmlyZWJhc2UvYXBwIjsKaW1wb3J0ICJmaXJlYmFzZS9zdG9yYWdlIjsKaW1wb3J0IGRiIGZyb20gIi4uL2ZpcmViYXNlL2ZpcmViYXNlSW5pdCI7CmltcG9ydCBRdWlsbCBmcm9tICJxdWlsbCI7CndpbmRvdy5RdWlsbCA9IFF1aWxsOwoKdmFyIEltYWdlUmVzaXplID0gcmVxdWlyZSgicXVpbGwtaW1hZ2UtcmVzaXplLW1vZHVsZSIpLmRlZmF1bHQ7CgpRdWlsbC5yZWdpc3RlcigibW9kdWxlcy9pbWFnZVJlc2l6ZSIsIEltYWdlUmVzaXplKTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDcmVhdGVQb3N0IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmlsZTogbnVsbCwKICAgICAgZXJyb3I6IG51bGwsCiAgICAgIGVycm9yTXNnOiBudWxsLAogICAgICBsb2FkaW5nOiBudWxsLAogICAgICBlZGl0b3JTZXR0aW5nczogewogICAgICAgIG1vZHVsZXM6IHsKICAgICAgICAgIGltYWdlUmVzaXplOiB7fQogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEJsb2dDb3ZlclByZXZpZXc6IEJsb2dDb3ZlclByZXZpZXcsCiAgICBMb2FkaW5nOiBMb2FkaW5nCiAgfSwKICBtZXRob2RzOiB7CiAgICBmaWxlQ2hhbmdlOiBmdW5jdGlvbiBmaWxlQ2hhbmdlKCkgewogICAgICB0aGlzLmZpbGUgPSB0aGlzLiRyZWZzLmJsb2dQaG90by5maWxlc1swXTsKICAgICAgdmFyIGZpbGVOYW1lID0gdGhpcy5maWxlLm5hbWU7CiAgICAgIGNvbnNvbGUubG9nKGZpbGVOYW1lKTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJmaWxlTmFtZUNoYW5nZSIsIGZpbGVOYW1lKTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJjcmVhdGVGaWxlVVJMIiwgVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLmZpbGUpKTsKICAgIH0sCiAgICBvcGVuUHJldmlldzogZnVuY3Rpb24gb3BlblByZXZpZXcoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgib3BlblBob3RvUHJldmlldyIpOwogICAgfSwKICAgIGltYWdlSGFuZGxlcjogZnVuY3Rpb24gaW1hZ2VIYW5kbGVyKGZpbGUsIEVkaXRvciwgY3Vyc29yTG9jYXRpb24sIHJlc2V0VXBsb2FkZXIpIHsKICAgICAgdmFyIHN0cm9nZVJlZiA9IGZpcmViYXNlLnN0b3JhZ2UoKS5yZWYoKTsKICAgICAgY29uc29sZS5sb2coZmlsZSwgRWRpdG9yLCBjdXJzb3JMb2NhdGlvbiwgcmVzZXRVcGxvYWRlcik7CiAgICAgIHZhciBkb2NSZWYgPSBzdHJvZ2VSZWYuY2hpbGQoImRvY3VtZW50cy9ibG9nUG9zdFBob3Rvcy8iLmNvbmNhdChmaWxlLm5hbWUpKTsKICAgICAgZG9jUmVmLnB1dChmaWxlKS5vbigic3RhdGVfY2hhbmdlZCIsIGZ1bmN0aW9uIChzbmFwc2hvdCkgewogICAgICAgIGNvbnNvbGUubG9nKHNuYXBzaG90KTsKICAgICAgfSwgZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0sIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGRvd25sb2FkVVJMOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGRvY1JlZi5nZXREb3dubG9hZFVSTCgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBkb3dubG9hZFVSTCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBFZGl0b3IuaW5zZXJ0RW1iZWQoY3Vyc29yTG9jYXRpb24sICJpbWFnZSIsIGRvd25sb2FkVVJMKTsKICAgICAgICAgICAgICAgIHJlc2V0VXBsb2FkZXIoKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSk7CiAgICB9LAogICAgdXBsb2FkQmxvZzogZnVuY3Rpb24gdXBsb2FkQmxvZygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmJsb2dUaXRsZS5sZW5ndGggIT09IDAgJiYgdGhpcy5ibG9nSFRNTC5sZW5ndGggIT09IDApIHsKICAgICAgICAvKiNfX1BVUkVfXyovCiAgICAgICAgX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICAgIHZhciB0aW1lc3RhbXAsIGRhdGFCYXNlOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3IgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JNc2cgPSAiIjsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgICByZXR1cm4gRGF0ZS5ub3coKTsKCiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgICBkYXRhQmFzZSA9IGRiLmNvbGxlY3Rpb24oImJsb2dQb3N0cyIpLmRvYyhfdGhpcy4kc3RvcmUuc3RhdGUucHJvZmlsZUlkKTsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YUJhc2Uuc2V0KHsKICAgICAgICAgICAgICAgICAgICBibG9nSUQ6IGRhdGFCYXNlLmlkLAogICAgICAgICAgICAgICAgICAgIGJsb2dIVE1MOiBfdGhpcy5ibG9nSFRNTCwKICAgICAgICAgICAgICAgICAgICBibG9nVGl0bGU6IF90aGlzLmJsb2dUaXRsZSwKICAgICAgICAgICAgICAgICAgICBwcm9maWxlSWQ6IF90aGlzLnByb2ZpbGVJZCwKICAgICAgICAgICAgICAgICAgICBkYXRlOiB0aW1lc3RhbXAKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCJnZXRQb3N0Iik7CgogICAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiVmlld0Jsb2ciLAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgICAgYmxvZ2lkOiBkYXRhQmFzZS5pZAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgIH0pKTsKCiAgICAgICAgdGhpcy5lcnJvciA9IHRydWU7CiAgICAgICAgdGhpcy5lcnJvck1zZyA9ICJQbGVhc2UgZW5zdXJlIEJsb2cgVGl0bGUgJiBCbG9nIFBvc3QgaGFzIGJlZW4gZmlsbGVkISI7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5lcnJvciA9IGZhbHNlOwogICAgICAgIH0sIDUwMDApOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHByb2ZpbGVJZDogZnVuY3Rpb24gcHJvZmlsZUlkKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUucHJvZmlsZUlkOwogICAgfSwKICAgIGJsb2dDb3ZlclBob3RvTmFtZTogZnVuY3Rpb24gYmxvZ0NvdmVyUGhvdG9OYW1lKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYmxvZ1Bob3RvTmFtZTsKICAgIH0sCiAgICBibG9nVGl0bGU6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmJsb2dUaXRsZTsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQocGF5bG9hZCkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgidXBkYXRlQmxvZ1RpdGxlIiwgcGF5bG9hZCk7CiAgICAgIH0KICAgIH0sCiAgICBibG9nSFRNTDogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYmxvZ0hUTUw7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHBheWxvYWQpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm5ld0Jsb2dQb3N0IiwgcGF5bG9hZCk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["CreatePost.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"create-post\">\n    <blog-cover-preview v-if=\"this.$store.state.blogPhotoPreview\" />\n    <Loading v-if=\"loading\" />\n\n    <div class=\"container\">\n      <div :class=\"{ invisible: !error }\" class=\"err-message\">\n        <p><span>Error:</span>{{ this.errorMsg }}</p>\n      </div>\n      <div class=\"blog-info\">\n        <input type=\"text\" placeholder=\"Enter Blog Title\" v-model=\"blogTitle\" />\n        <div class=\"upload-file\">\n          <label for=\"blog-photo\">Upload Cover Photo</label>\n          <input\n            type=\"file\"\n            ref=\"blogPhoto\"\n            id=\"blog-photo\"\n            @change=\"fileChange\"\n            accept=\".png, .jpg, ,jpeg\"\n          />\n          <button\n            @click=\"openPreview\"\n            class=\"preview\"\n            :class=\"{ 'button-inactive': !this.$store.state.blogPhotoFileURL }\"\n          >\n            Preview Photo\n          </button>\n          <span>File Chosen: {{ this.$store.state.blogPhotoName }}</span>\n        </div>\n      </div>\n      <div class=\"editor\">\n        <vue-editor\n          :editorOptions=\"editorSettings\"\n          v-model=\"blogHTML\"\n          useCustomImageHandler\n          @image-added=\"imageHandler\"\n        />\n      </div>\n      <div class=\"blog-actions\">\n        <button @click=\"uploadBlog\">Publish Blog</button>\n        <router-link class=\"router-button\" to=\"\">Post Preview</router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BlogCoverPreview from \"../components/BlogCoverPreview.vue\";\n\nimport Loading from \"../components/Loading.vue\";\nimport firebase from \"firebase/app\";\nimport \"firebase/storage\";\nimport db from \"../firebase/firebaseInit\";\nimport Quill from \"quill\";\n\nwindow.Quill = Quill;\nconst ImageResize = require(\"quill-image-resize-module\").default;\nQuill.register(\"modules/imageResize\", ImageResize);\n\nexport default {\n  name: \"CreatePost\",\n  data() {\n    return {\n      file: null,\n      error: null,\n      errorMsg: null,\n      loading: null,\n      editorSettings: {\n        modules: {\n          imageResize: {},\n        },\n      },\n    };\n  },\n  components: {\n    BlogCoverPreview,\n    Loading,\n  },\n  methods: {\n    fileChange() {\n      this.file = this.$refs.blogPhoto.files[0];\n      const fileName = this.file.name;\n      console.log(fileName);\n      this.$store.commit(\"fileNameChange\", fileName);\n      this.$store.commit(\"createFileURL\", URL.createObjectURL(this.file));\n    },\n    openPreview() {\n      this.$store.commit(\"openPhotoPreview\");\n    },\n    imageHandler(file, Editor, cursorLocation, resetUploader) {\n      const strogeRef = firebase.storage().ref();\n      console.log(file, Editor, cursorLocation, resetUploader);\n      const docRef = strogeRef.child(`documents/blogPostPhotos/${file.name}`);\n      docRef.put(file).on(\n        \"state_changed\",\n        (snapshot) => {\n          console.log(snapshot);\n        },\n        (err) => {\n          console.log(err);\n        },\n        async () => {\n          const downloadURL = await docRef.getDownloadURL();\n          Editor.insertEmbed(cursorLocation, \"image\", downloadURL);\n          resetUploader();\n        }\n      );\n    },\n\n    uploadBlog() {\n      if (this.blogTitle.length !== 0 && this.blogHTML.length !== 0) {\n        async () => {\n          this.error = false;\n          this.errorMsg = \"\";\n          const timestamp = await Date.now();\n          const dataBase = db.collection(\"blogPosts\").doc(this.$store.state.profileId);\n          await dataBase.set({\n            blogID: dataBase.id,\n            blogHTML: this.blogHTML,\n     \n            blogTitle: this.blogTitle,\n            profileId: this.profileId,\n            date: timestamp,\n          });\n          await this.$store.dispatch(\"getPost\");\n          this.loading = false;\n          this.$router.push({\n            name: \"ViewBlog\",\n            params: { blogid: dataBase.id },\n          });\n        };\n        this.error = true;\n        this.errorMsg = \"Please ensure Blog Title & Blog Post has been filled!\";\n        setTimeout(() => {\n          this.error = false;\n        }, 5000);\n        return;\n      }\n    },\n  },\n  computed: {\n    profileId() {\n      return this.$store.state.profileId;\n    },\n    blogCoverPhotoName() {\n      return this.$store.state.blogPhotoName;\n    },\n    blogTitle: {\n      get() {\n        return this.$store.state.blogTitle;\n      },\n      set(payload) {\n        this.$store.commit(\"updateBlogTitle\", payload);\n      },\n    },\n    blogHTML: {\n      get() {\n        return this.$store.state.blogHTML;\n      },\n      set(payload) {\n        this.$store.commit(\"newBlogPost\", payload);\n      },\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.create-post {\n  position: relative;\n  height: 100%;\n  button {\n    margin-top: 0;\n  }\n  .router-button {\n    text-decoration: none;\n    color: #fff;\n  }\n  label,\n  button,\n  .router-button {\n    transition: 0.5s ease-in-out all;\n    align-self: center;\n    font-size: 14px;\n    cursor: pointer;\n    border-radius: 20px;\n    padding: 12px 24px;\n    color: #fff;\n    background-color: #303030;\n    text-decoration: none;\n    &:hover {\n      background-color: rgba(48, 48, 48, 0.7);\n    }\n  }\n  .container {\n    position: relative;\n    height: 100%;\n    padding: 10px 25px 60px;\n  }\n  // error styling\n  .invisible {\n    opacity: 0 !important;\n  }\n  .err-message {\n    width: 100%;\n    padding: 12px;\n    border-radius: 8px;\n    color: #fff;\n    margin-bottom: 10px;\n    background-color: #303030;\n    opacity: 1;\n    transition: 0.5s ease all;\n    p {\n      font-size: 14px;\n    }\n    span {\n      font-weight: 600;\n    }\n  }\n  .blog-info {\n    display: flex;\n    margin-bottom: 32px;\n    input:nth-child(1) {\n      min-width: 300px;\n    }\n    input {\n      transition: 0.5s ease-in-out all;\n      padding: 10px 4px;\n      border: none;\n      border-bottom: 1px solid #303030;\n      &:focus {\n        outline: none;\n        box-shadow: 0 1px 0 0 #303030;\n      }\n    }\n    .upload-file {\n      flex: 1;\n      margin-left: 16px;\n      position: relative;\n      display: flex;\n      input {\n        display: none;\n      }\n      .preview {\n        margin-left: 16px;\n        text-transform: initial;\n      }\n      span {\n        font-size: 12px;\n        margin-left: 16px;\n        align-self: center;\n      }\n    }\n  }\n  .editor {\n    height: 60vh;\n    display: flex;\n    flex-direction: column;\n    .quillWrapper {\n      position: relative;\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n    }\n    .ql-container {\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      overflow: scroll;\n    }\n    .ql-editor {\n      padding: 20px 16px 30px;\n    }\n  }\n  .blog-actions {\n    margin-top: 32px;\n    button {\n      margin-right: 16px;\n    }\n  }\n}\n</style>"],"sourceRoot":"src/views"}]}